1.exfat 
采用exfat-nofuse

参考链接：
http://blog.irsqs.com/archives/12


2.禁止一些无用的开机服务
apt-get install rcconf

列出当前开机启动的服务
rcconf --list
root@tegra-ubuntu:/lib/systemd/system# rcconf --list
nfs-kernel-server on
saned on
cryptdisks on
lvm2-lvmetad on
speech-dispatcher on
anacron on
whoopsie on
brltty on
apparmor on
rsync on
lvm2-lvmpolld on
rpcbind on
hostapd on
lightdm on
bluetooth on
cups-browsed on
gpsd on
kmod on
avahi-daemon on
procps on
console-setup on
plymouth on
ssh on
kerneloops on
plymouth-log on
alsa-utils on
apport on
checkroot-bootclean.sh on
x11-common on
dnsmasq on
dbus on
udev on
cups on
lvm2 on
cron on
pppd-dns on
nmbd on
smbd on
rsyslog on
samba-ad-dc on
samba off

禁止无用的服务：
root@tegra-ubuntu:/lib/systemd/system# rcconf --off bluetooth
root@tegra-ubuntu:/lib/systemd/system# rcconf --off dnsmasq
root@tegra-ubuntu:/lib/systemd/system# rcconf --off pppd-dns
root@tegra-ubuntu:/lib/systemd/system# rcconf --off avahi-daemon
root@tegra-ubuntu:/lib/systemd/system# rcconf --off gpsd
root@tegra-ubuntu:/lib/systemd/system# rcconf --off hostapd



安装最新的exfat工具
github: https://github.com/relan/exfat




UD REPO操作：
克隆远程仓库：
repo init -u ssh://git.uditech.org/Robot/ZWJ/ubuntu/insta360/tx2_28.2.1/manifest.git -b master -m default.xml --repo-url ssh://git.uditech.org/git-repo.git

同步：
repo sync -j8
repo start master --all



编译cboot

Use these procedures to build the T186 CBoot binary using the standalone
source contained in the cboot_src.tbz2 archive.

==============================================================================
Requirements for Compiling on the Host
==============================================================================
Before you can compile on the host, the following requirements must be met:

- A recent 64-bit ARM toolchain is required. It must be in your PATH, unless
  you explicitly set it in your CROSS_COMPILE environment variable, as follows.

- The CBoot makefile uses the toolchain set in the CROSS_COMPILE environment
  variable. The variable must be set to point to the ARM 64-bit toolchain
  used by L4T, and must be in your path.

  For example:

  export CROSS_COMPILE=aarch64-unknown-linux-gnu-

  Consult the Linux for Tegra Development Guide for detailed toolchain information.

- A GNU Make tool must be available.

- Create a directory for the CBoot source to extract and build the source.
  In subsequent procedures, the source subdirectory is called "cboot".
  The resulting binaries are placed in the 'out' subdirectory, i.e. cboot/out.

=================================================================================
Building the CBoot Binary
=================================================================================
To build the CBoot binary:
1. Extract the CBoot-standalone source with the command:
   md cboot
   tar -xjf cboot_src.tbz2 -C cboot
   cd cboot

2. Export the cross compiler tools with the following enviroment variables:
   export CROSS_COMPILE=<your_64-bit_ARM_toolchain_triple>
   export CROSS_COMPILE=/home/skymixos/work/titan/sdk/prebuilts/gcc/aarch64/install/bin/aarch64-linux-gnu-


   Where: <your_64-bit_ARM_toolchain_triple> can be: 'aarch64-linux-gnu-'

3. Build the T186 CBoot binary, lk.bin, with the command:
   make -C ./bootloader/partner/t18x/cboot PROJECT=t186 TOOLCHAIN_PREFIX="${CROSS_COMPILE}" DEBUG=2 BUILDROOT="${PWD}"/out NV_BUILD_SYSTEM_TYPE=l4t NOECHO=@

   make -C ./bootloader/partner/t18x/cboot PROJECT=t186 TOOLCHAIN_PREFIX="aarch64-linux-gnu-" DEBUG=2 BUILDROOT="${PWD}"/out NV_BUILD_SYSTEM_TYPE=l4t NOECHO=@

   The binary is located at: './out/build-t186/...':

   cboot/out/build-t186/lk.bin

4. Rename the binary lk.bin to cboot.bin to use with the Jetson TX2 (T186)
   Linux for Tegra Board Support Package.

   This CBoot binary replaces the one provided at: Linux_for_Tegra/bootloader/cboot.bin.


编译cboot.bin:
export CROSS_COMPILE=/home/skymixos/work/titan/sdk/prebuilts/gcc/aarch64/install/bin/aarch64-unknown-linux-gnu-
make -C ./bootloader/partner/t18x/cboot PROJECT=t186 TOOLCHAIN_PREFIX="${CROSS_COMPILE}" DEBUG=2 BUILDROOT="${PWD}"/out NV_BUILD_SYSTEM_TYPE=l4t NOECHO=@
cp ./out/build-t186/lk.bin  /home/skymixos/work/titan/sdk/64_TX2/Linux_for_Tegra/bootloader/cboot.bin


烧写cboot.bin
sudo ./flash.sh -k cpu-bootloader jetson-tx2 mmcblk0p1

HDMI:
tegra186-cvb-prod-p2597-b00-p3310-1000-a00-00.dtsi


修改扩展p10-p15修改的文件：bootloader/partner/common/drivers/gpio/tca9539_gpio.c


1.禁止系统自动睡眠
2.安装常用工具
samba

3.移植应用环境
4.禁止U盘功能
/opt/nvidia/l4t-usb-device-mode/nv-l4t-usb-device-mode.sh

5.支持外设



TITAN板子
HDMI在无任何连接的情况下，显示有连接
Screen 0: minimum 8 x 8, current 1280 x 720, maximum 32767 x 32767
HDMI-0 connected primary 1280x720+0+0 (normal left inverted right x axis y axis) 890mm x 500mm
   1280x720      60.00*+  59.94    50.00  
   720x576       50.00  
   720x480       59.94  
   640x480       59.94 




APP遗留问题
1.网络管理器部分
2.查询部分
3.数据库



按键的问题：
问题描述：设置键按下时只报按下事件，过了一会会上报一堆的事件
原因：设置脚对应的GPIO，内部没有上拉，修改tegra186-mb1-bct-pinmux-quill-p3310-1000-c03.cfg
Linux_for_Tegra/bootloader/t186ref/BCT/tegra186-mb1-bct-pinmux-quill-p3310-1000-c03.cfg

tegra186-mb1-bct-pinmux-quill-p3310-1000-c03.cfg

tegra186-mb1-bct-pinmux-quill-p3310-1000-c03.cfg



PBB0需要内部上拉

音频问题：
音频模块的上电问题

查看是否插入外置MIC
amixer cget -c 1 name="Jack-state"



网络问题：
udhcpc获取IP的时间是否比dhclient的时间更短？



添加用户按键的gpio使用情况:
# cat /sys/kernel/debug/gpio

GPIOs 232-239, platform/max77620-gpio, max77620-gpio, can sleep:
 gpio-232 (                    |external-connection:) in  hi    
 gpio-237 (                    |spmic_gpio_input_5  ) in  lo    
 gpio-238 (                    |spmic_gpio_input_6  ) in  hi    

GPIOs 240-255, i2c/0-0077, tca9539, can sleep:
 gpio-240 (                    |sysfs               ) out lo    
 gpio-241 (                    |sysfs               ) out lo    
 gpio-242 (                    |sysfs               ) out lo    
 gpio-243 (                    |sysfs               ) out lo    
 gpio-244 (                    |sysfs               ) out lo    
 gpio-245 (                    |sysfs               ) out lo    
 gpio-246 (                    |sysfs               ) out lo    
 gpio-247 (                    |sysfs               ) out lo    
 gpio-248 (                    |front_red           ) out hi    
 gpio-249 (                    |front_green         ) out hi    
 gpio-250 (                    |front_blue          ) out hi    
 gpio-251 (                    |back_red            ) out lo    
 gpio-252 (                    |back_green          ) out lo    
 gpio-253 (                    |back_blue           ) out lo    
 gpio-254 (                    |vdd-hdmi            ) out hi    
 gpio-255 (                    |tegra_fan           ) out hi    

GPIOs 256-319, platform/c2f0000.gpio, tegra-gpio-aon:
 gpio-259 (                    |sysfs               ) out hi    
 gpio-272 (                    |temp_alert          ) in  hi    
 gpio-298 (                    |sysfs               ) out lo    
 gpio-303 (                    |sysfs               ) out lo    
 gpio-312 (                    |Power               ) in  hi    
 gpio-313 (                    |Up                  ) in  hi    
 gpio-314 (                    |Down                ) in  hi    
 gpio-315 (                    |user-key1           ) in  hi    
 gpio-316 (                    |bt_host_wake        ) in  hi    

GPIOs 320-511, platform/2200000.gpio, tegra-gpio:
 gpio-381 (                    |reset_gpio          ) out lo    
 gpio-390 (                    |sysfs               ) out lo    
 gpio-397 (                    |sysfs               ) out hi    
 gpio-412 (                    |vdd-usb0-5v         ) out lo    
 gpio-413 (                    |vdd-usb1-5v         ) out lo    
 gpio-420 (                    |eqos_phy_reset      ) out hi    
 gpio-421 (                    |eqos_phy_intr       ) in  hi    
 gpio-426 (                    |cam1-pwdn           ) out lo    
 gpio-441 (                    |hdmi2.0_hpd         ) in  hi    
 gpio-445 (                    |sdmmc-wake-input    ) in  hi    
 gpio-446 (                    |en-vdd-sd           ) out hi    
 gpio-456 (                    |cam0-pwdn           ) out lo    
 gpio-457 (                    |cam1-rst            ) out lo    
 gpio-461 (                    |sysfs               ) out lo    
 gpio-479 (                    |external-connection:) in  lo    
 gpio-481 (                    |Back                ) in  hi    
 gpio-484 (                    |bt_ext_wake         ) out hi    
 gpio-488 (                    |Setting             ) in  hi    
 gpio-489 (                    |wifi-ap6356s-enable ) out hi


初始GPIO配置：
root@tegra-ubuntu:/home/nvidia# cat /sys/kernel/debug/gpio 
GPIOs 232-239, platform/max77620-gpio, max77620-gpio, can sleep:
 gpio-232 (                    |external-connection:) in  hi    
 gpio-237 (                    |spmic_gpio_input_5  ) in  lo    
 gpio-238 (                    |spmic_gpio_input_6  ) in  hi    

GPIOs 240-255, i2c/0-0077, tca9539, can sleep:
 gpio-240 (                    |sysfs               ) out lo    
 gpio-241 (                    |sysfs               ) out lo    
 gpio-242 (                    |sysfs               ) out lo    
 gpio-243 (                    |sysfs               ) out lo    
 gpio-244 (                    |sysfs               ) out lo    
 gpio-245 (                    |sysfs               ) out lo    
 gpio-246 (                    |sysfs               ) out lo    
 gpio-247 (                    |sysfs               ) out lo    
 gpio-248 (                    |front_red           ) out hi    
 gpio-249 (                    |front_green         ) out hi    
 gpio-250 (                    |front_blue          ) out hi    
 gpio-251 (                    |back_red            ) out lo    
 gpio-252 (                    |back_green          ) out lo    
 gpio-253 (                    |back_blue           ) out lo    
 gpio-254 (                    |vdd-hdmi            ) out hi    
 gpio-255 (                    |tegra_fan           ) out hi    

GPIOs 256-319, platform/c2f0000.gpio, tegra-gpio-aon:
 gpio-259 (                    |sysfs               ) out hi    
 gpio-272 (                    |temp_alert          ) in  hi    
 gpio-298 (                    |sysfs               ) out lo    
 gpio-303 (                    |sysfs               ) out lo    
 gpio-312 (                    |Power               ) in  hi    
 gpio-313 (                    |Up                  ) in  hi    
 gpio-314 (                    |Down                ) in  hi    
 gpio-315 (                    |wifi-wake-ap        ) in  hi    
 gpio-316 (                    |bt_host_wake        ) in  hi    

GPIOs 320-511, platform/2200000.gpio, tegra-gpio:
 gpio-381 (                    |reset_gpio          ) out lo    
 gpio-390 (                    |sysfs               ) out lo    
 gpio-397 (                    |sysfs               ) out hi    
 gpio-412 (                    |vdd-usb0-5v         ) out lo    
 gpio-413 (                    |vdd-usb1-5v         ) out lo    
 gpio-420 (                    |eqos_phy_reset      ) out hi    
 gpio-421 (                    |eqos_phy_intr       ) in  hi    
 gpio-426 (                    |cam1-pwdn           ) out lo    
 gpio-441 (                    |hdmi2.0_hpd         ) in  hi    
 gpio-445 (                    |sdmmc-wake-input    ) in  hi    
 gpio-446 (                    |en-vdd-sd           ) out hi    
 gpio-456 (                    |cam0-pwdn           ) out lo    
 gpio-457 (                    |cam1-rst            ) out lo    
 gpio-461 (                    |sysfs               ) out lo    
 gpio-479 (                    |external-connection:) in  lo    
 gpio-481 (                    |Back                ) in  hi    
 gpio-484 (                    |bt_ext_wake         ) out hi    
 gpio-488 (                    |Setting             ) in  hi    
 gpio-489 (                    |wifi-ap6356s-enable ) out hi    
root@tegra-ubuntu:/home/nvidia# 



USB3.0(SS0) OTG调试：
条件                                         现象                              结论
开机插上USB3.0 TYPE-C线             RNDIS识别成3.0设备，U盘识别成2.0设备            正确
开机插上USB2.0 TYPE-C线             


开机不插Type-C线                    U盘被识别成2.0设备                            错误，正常应该显示为USB3.0设备
手动操作可校正:（可通过检测 gpio-479的输入状态来检测是否有Type-C的插入）
echo 0x2 > /sys/class/extcon/extcon0/state 
echo 1 > /sys/class/gpio/gpio390/value
echo 0 > /sys/class/gpio/gpio390/value




电池调试：
SMBus兼容I2C，但是其支持的最大的时钟频率为100KHz，而I2C adapter的dtb中配置的总线时钟为400KHz，所以使用
i2cdect工具探测不到电池设备：
修改dts源文件：nvidia/soc/t18x/kernel-dts/tegra186-soc/tegra186-soc-i2c.dtsi
将总线的时钟修改为100KHz，再使用i2cdect工具探测设备：

不插电池：
root@tegra-ubuntu:/home/nvidia# i2cdetect  -r -y 2
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- 3c -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: -- -- -- -- -- -- -- --

插上电池：
root@tegra-ubuntu:/home/nvidia# i2cdetect  -r -y 2
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- 0b -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- 3c -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 

电池的设备地址为0x0B,不是供应商所谓的0x1B

gedit nvidia/soc/t18x/kernel-dts/tegra186-soc/tegra186-soc-i2c.dtsi

	gen8_i2c: i2c@c250000 {
		#address-cells = <1>;
		#size-cells = <0>;
		#stream-id-cells = <1>;
		compatible = "nvidia,tegra186-i2c";
		reg = <0x0 0xc250000 0x0 0x100>;
		interrupts = <0 TEGRA186_IRQ_I2C8 0x04>;
		scl-gpio = <&tegra_aon_gpio TEGRA_AON_GPIO(W, 0) 0>;
		sda-gpio = <&tegra_aon_gpio TEGRA_AON_GPIO(W, 1) 0>;
		status = "disabled";	
		clock-frequency = <100000>;		/* 将I2C总线的频率由400KHz改为100KHz */
		clocks = <&tegra_car TEGRA186_CLK_I2C8
			&tegra_car TEGRA186_CLK_PLLP_OUT0
			&tegra_car TEGRA186_CLK_AON_I2C_SLOW>;
		clock-names = "div-clk", "parent", "slow-clk";
		resets = <&tegra_car TEGRA186_RESET_I2C8>;
		reset-names = "i2c";
		dmas = <&gpcdma 0>, <&gpcdma 0>;
		dma-names = "rx", "tx";
	};

grep "gen_i2c8" * -nR 发现电池所在I2C总线在Linux系统中实际为7：
root@tegra-ubuntu:/sys/class/i2c-adapter/i2c-7# i2cdetect -y -r 7
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- 0b -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- UU -- -- -- 
50: 50 -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: -- -- -- -- -- -- -- --     


编写电池接口:






RIFF块
4952 4646: RIFF
56fc 0000: +8等于文件长度

文件格式类型：WAVE
4157 4556：WAVE

fmt块
6d66 2074：fmt（4字节）
0010 0000: 格式块的长度16字节（4字节）
0001：编码格式（PCM数据，2字节）
0002：采用声道（双声道，2字节）
bb80 0000：采样频率（4字节）
ee00 0002：数据传输速率（4字节）声道数×采样频率×每样本的数据位数/8
0004：采样帧大小（2字节）。该数值为:声道数×位数/8。播放软件需要一次处理多个该值大小的字节数据,用该数值调整缓冲区
0010：（2字节）存储每个采样值所用的二进制数位数。常见的位数有 4、8、12、16、24、32

0000000 4952 4646 56fc 0000 4157 4556 6d66 2074
0000010 0010 0000 0001 0002 bb80 0000 ee00 0002
0000020 0004 0010 6164 6174 56d8 0000 de56 dca3
0000030 db3f d954 d8ad d691 d6c2 d480 d585 d325
0000040 d4f1 d27b d520 d29c d5fc d37b d793 d516
0000050 d9db d779 dcc2 da77 e052 de36 e470 e279
0000060 e90e e75c ee33 ecb0 f3a1 f273 f978 f88c
0000070 ff71 fed2 0592 054e 0bb6 0bbf 11be 1222


关于插上外置MIC后，播放音频文件的卡顿问题？
1.初步怀疑是调用aplay导致的？
验证：自己调用alsa-libs API播放wav文件也会出现卡顿问题，并且发现卡顿是周期性出现，怀疑驱动有问题？

2.拔掉外置MIC时，一切又正常，说明是检测是否有外置MIC的程序有问题？


amixer cget -c 1 name="Jack-state" | grep "values=" | grep -v items | cut -d "=" -f 2

t18x/sound/soc/tegra-alt/tegra_t186ref_mobile_rt565x.o
kernel-4.4/sound/soc/codecs/rt5640.c

未插入外置MIC时，检测一次的内核态耗时：
[  544.630303] ----> rt5639_headset_detect jack_inset = 0
[  544.635472] rt5639_headset_detect jack_type = 1

插入外置MIC时，检测一次的内核态耗时：
[  616.660745] ----> rt5639_headset_detect jack_inset = 1
[  617.231282] rt5639_headset_detect jack_type = 4
[  618.253457] ----> rt5639_headset_detect jack_inset = 1
[  618.839888] rt5639_headset_detect jack_type = 4
[  619.861984] ----> rt5639_headset_detect jack_inset = 1
[  620.438363] rt5639_headset_detect jack_type = 4

rt5639_jack_detect


mount device[/dev/sdb1] on path [/mnt/mSD6] success
mount device[/dev/sdc1] on path [/mnt/mSD5] success
mount device[/dev/sdd1] on path [/mnt/mSD3] success
mount device[/dev/sde1] on path [/mnt/mSD2] success
mount device[/dev/sdf1] on path [/mnt/mSD1] success


Think??
HDMI Tunning....

-------------------------------------------------------------------------------------------------------------------------------
待处理的问题                                                               解决情况或方案
-------------------------------------------------------------------------------------------------------------------------------
1.启动
1.1按下开机键后，亮灯，风扇转                                                   （OK）
解决方案：
修改dts源文件：
kernel/hardware/nvidia/platform/t18x/common/kernel-dts/t18x-common-platforms/tegra186-cvb-prod-p2597-b00-p3310-1000-a00-00.dtsi
98行去掉如下代码：
/*
			front_red_light {
				gpio-hog;
				gpios = <8 0>;
				output-high;
				label = "front_red";
			};

			front_green_light {
				gpio-hog;
				gpios = <9 0>;
				output-high;
				label = "front_green";
			};
			front_blue_light {
				gpio-hog;
				gpios = <10 0>;
				output-high;
				label = "front_blue";
			};

			back_red_light {
				gpio-hog;
				gpios = <11 0>;
				output-low;
				label = "back_red";
			};

			back_green_light {
				gpio-hog;
				gpios = <12 0>;
				output-low;
				label = "back_green";
			};

			back_blue_light {
				gpio-hog;
				gpios = <13 0>;
				output-low;
				label = "back_blue";
			};
*/

1.2去掉uboot中3秒倒计时及修改启动参数，内核启动信息不从HDMI输出
解决方案：
参考pro2的uboot源码：


1.3让内核使用文件系统中的dtb而不使用eMMC内部分区中的dtb                            (R28.2的系统不支持使用该方案了，可以考虑支持修改内核代码)
解决方案：
直接找到dtb节点对应的内核代码，修改之

烧写u-boot.bin



2.驱动
3.1新版本电池驱动



3.系统
3.1系统空闲时进入低功耗模式（可以用ubuntu系统的休眠机制做试验，测功耗）

4.应用
4.1 准备调试好升级

4.2 修改属性系统（增大属性系统的内存空间，支持列出所有的属性）
    影响到的服务（monitor, logd, logcat, ui_service, power_manager）
修改web_server与ui_service的进程间通信方式(使用binder)
将pro2上新增的功能移植到titan上


[  437.998372] blk_update_request: I/O error, dev sda, sector 62520320
[  438.077316] usb 1-2.3: reset high-speed USB device number 13 using xhci-tegra
[  438.249429] usb 1-2.3: reset high-speed USB device number 13 using xhci-tegra
[  438.425343] usb 1-2.3: reset high-speed USB device number 13 using xhci-tegra
[  438.597335] usb 1-2.3: reset high-speed USB device number 13 using xhci-tegra
[  438.769340] usb 1-2.3: reset high-speed USB device number 13 using xhci-tegra
[  438.845685] usb 1-2.3: Device not responding to setup address.
[  439.053474] usb 1-2.3: Device not responding to setup address.
[  439.260989] usb 1-2.3: device not accepting address 13, error -71
[  439.281728] usb 1-2.3: USB disconnect, device number 13
[  439.289223] sd 6:0:0:0: [sda] tag#0 UNKNOWN(0x2003) Result: hostbyte=0x01 driverbyte=0x00
[  439.297499] sd 6:0:0:0: [sda] tag#0 CDB: opcode=0x28 28 00 03 b9 fc 00 00 00 08 00
[  439.305184] blk_update_request: I/O error, dev sda, sector 62520320
[  439.311540] Buffer I/O error on dev sda1, logical block 7814016, async page read
[  439.525138] xhci-tegra 3530000.xhci: entering ELPG
[  439.555362] xhci-tegra 3530000.xhci: WARN: xHC save state timeout
[  439.561522] tegra-xusb-mbox 3538000.mailbox: Controller firmware hang
[  439.567962] tegra-xusb-mbox 3538000.mailbox: XUSB_CFG_ARU_MBOX_OWNER 0x0
[  439.574661] tegra-xusb-mbox 3538000.mailbox: XUSB_CFG_ARU_MBOX_CMD 0x80000000
[  439.581793] tegra-xusb-mbox 3538000.mailbox: XUSB_CFG_ARU_MBOX_DATA_IN 0x0
[  439.588666] tegra-xusb-mbox 3538000.mailbox: XUSB_CFG_ARU_MBOX_DATA_OUT 0x0
[  439.595764] xhci-tegra 3530000.xhci: xhci_suspend() failed -110
[  439.601718] xhci-tegra 3530000.xhci: entering ELPG failed




日期：2019年1月10日
1.新增工厂模式属性: "sys.factory_test"
工厂模式下:
在主菜单页面，按下"设置"键再按"返回"键将进入AWB校正，校正成功所有的灯显示绿色；失败显示红色


- 拍照参数及挡位
- 音频
- 风扇开关              （UI部分OK）
- python对应的设置项部分
- 大卡格式化            （OK）
- 卡的测速功能
- samba及U盘功能        （可以进samba）


清除大量处于TIME_WAIT状态的连接



in1p_record_setup.sh    -> rt5639_dmic_put: RT5639_DMIC1 ****   ->  -D hw:1,0
in1n_record_setup.sh    -> rt5639_dmic_put: RT5639_DMIC2 ****   ->  -D hw:1,1



PlayBack:
# For Playback:
amixer cset -c tegrasndt186ref name="I2S1 Mux" 20
amixer cset -c tegrasndt186ref name="MIXER1-1 Mux" 1
amixer cset -c tegrasndt186ref name="Adder1 RX1" 1
amixer cset -c tegrasndt186ref name="Mixer Enable" 1
amixer cset -c tegrasndt186ref name="ADMAIF1 Mux" 11
amixer cset -c tegrasndt186ref name="x Int Spk Switch" 1
amixer cset -c tegrasndt186ref name="x Speaker Playback Volume" 100
amixer cset -c tegrasndt186ref name="x Headphone Jack Switch" 0
amixer sset -c tegrasndt186ref 'MIXER1-1 Mux' 'ADMAIF1'
amixer sset -c tegrasndt186ref 'I2S1 Mux' 'MIXER1-1'
amixer cset -c 1 name="x Speaker Playback Volume" 100


root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="I2S1 Mux" 20
numid=688,iface=MIXER,name='I2S1 Mux'
  ; type=ENUMERATED,access=rw------,values=1,items=83
  ; Item #0 'None'
  ; Item #1 'ADMAIF1'
  ; Item #2 'ADMAIF2'
  ; Item #3 'ADMAIF3'
  ; Item #4 'ADMAIF4'
  ; Item #5 'ADMAIF5'
  ; Item #6 'ADMAIF6'
  ; Item #7 'ADMAIF7'
  ; Item #8 'ADMAIF8'
  ; Item #9 'ADMAIF9'
  ; Item #10 'ADMAIF10'
  ; Item #11 'ADMAIF11'
  ; Item #12 'ADMAIF12'
  ; Item #13 'ADMAIF13'
  ; Item #14 'ADMAIF14'
  ; Item #15 'ADMAIF15'
  ; Item #16 'ADMAIF16'
  ; Item #17 'I2S1'
  ; Item #18 'I2S2'
  ; Item #19 'I2S3'
  ; Item #20 'I2S4'
  ; Item #21 'I2S5'
  ; Item #22 'I2S6'
  ; Item #23 'SFC1'
  ; Item #24 'SFC2'
  ; Item #25 'SFC3'
  ; Item #26 'SFC4'
  ; Item #27 'MIXER1-1'
  ; Item #28 'MIXER1-2'
  ; Item #29 'MIXER1-3'
  ; Item #30 'MIXER1-4'
  ; Item #31 'MIXER1-5'
  ; Item #32 'AMX1'
  ; Item #33 'AMX2'
  ; Item #34 'AMX3'
  ; Item #35 'AMX4'
  ; Item #36 'ARAD1'
  ; Item #37 'SPDIF1-1'
  ; Item #38 'SPDIF1-2'
  ; Item #39 'AFC1'
  ; Item #40 'AFC2'
  ; Item #41 'AFC3'
  ; Item #42 'AFC4'
  ; Item #43 'AFC5'
  ; Item #44 'AFC6'
  ; Item #45 'OPE1'
  ; Item #46 'SPKPROT1'
  ; Item #47 'MVC1'
  ; Item #48 'MVC2'
  ; Item #49 'IQC1-1'
  ; Item #50 'IQC1-2'
  ; Item #51 'IQC2-1'
  ; Item #52 'IQC2-2'
  ; Item #53 'DMIC1'
  ; Item #54 'DMIC2'
  ; Item #55 'DMIC3'
  ; Item #56 'DMIC4'
  ; Item #57 'ADX1-1'
  ; Item #58 'ADX1-2'
  ; Item #59 'ADX1-3'
  ; Item #60 'ADX1-4'
  ; Item #61 'ADX2-1'
  ; Item #62 'ADX2-2'
  ; Item #63 'ADX2-3'
  ; Item #64 'ADX2-4'
  ; Item #65 'ADX3-1'
  ; Item #66 'ADX3-2'
  ; Item #67 'ADX3-3'
  ; Item #68 'ADX3-4'
  ; Item #69 'ADX4-1'
  ; Item #70 'ADX4-2'
  ; Item #71 'ADX4-3'
  ; Item #72 'ADX4-4'
  ; Item #73 'ADMAIF17'
  ; Item #74 'ADMAIF18'
  ; Item #75 'ADMAIF19'
  ; Item #76 'ADMAIF20'
  ; Item #77 'ASRC1-1'
  ; Item #78 'ASRC1-2'
  ; Item #79 'ASRC1-3'
  ; Item #80 'ASRC1-4'
  ; Item #81 'ASRC1-5'
  ; Item #82 'ASRC1-6'
  : values=20
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="MIXER1-1 Mux" 1
numid=697,iface=MIXER,name='MIXER1-1 Mux'
  ; type=ENUMERATED,access=rw------,values=1,items=83
  ; Item #0 'None'
  ; Item #1 'ADMAIF1'
  ; Item #2 'ADMAIF2'
  ; Item #3 'ADMAIF3'
  ; Item #4 'ADMAIF4'
  ; Item #5 'ADMAIF5'
  ; Item #6 'ADMAIF6'
  ; Item #7 'ADMAIF7'
  ; Item #8 'ADMAIF8'
  ; Item #9 'ADMAIF9'
  ; Item #10 'ADMAIF10'
  ; Item #11 'ADMAIF11'
  ; Item #12 'ADMAIF12'
  ; Item #13 'ADMAIF13'
  ; Item #14 'ADMAIF14'
  ; Item #15 'ADMAIF15'
  ; Item #16 'ADMAIF16'
  ; Item #17 'I2S1'
  ; Item #18 'I2S2'
  ; Item #19 'I2S3'
  ; Item #20 'I2S4'
  ; Item #21 'I2S5'
  ; Item #22 'I2S6'
  ; Item #23 'SFC1'
  ; Item #24 'SFC2'
  ; Item #25 'SFC3'
  ; Item #26 'SFC4'
  ; Item #27 'MIXER1-1'
  ; Item #28 'MIXER1-2'
  ; Item #29 'MIXER1-3'
  ; Item #30 'MIXER1-4'
  ; Item #31 'MIXER1-5'
  ; Item #32 'AMX1'
  ; Item #33 'AMX2'
  ; Item #34 'AMX3'
  ; Item #35 'AMX4'
  ; Item #36 'ARAD1'
  ; Item #37 'SPDIF1-1'
  ; Item #38 'SPDIF1-2'
  ; Item #39 'AFC1'
  ; Item #40 'AFC2'
  ; Item #41 'AFC3'
  ; Item #42 'AFC4'
  ; Item #43 'AFC5'
  ; Item #44 'AFC6'
  ; Item #45 'OPE1'
  ; Item #46 'SPKPROT1'
  ; Item #47 'MVC1'
  ; Item #48 'MVC2'
  ; Item #49 'IQC1-1'
  ; Item #50 'IQC1-2'
  ; Item #51 'IQC2-1'
  ; Item #52 'IQC2-2'
  ; Item #53 'DMIC1'
  ; Item #54 'DMIC2'
  ; Item #55 'DMIC3'
  ; Item #56 'DMIC4'
  ; Item #57 'ADX1-1'
  ; Item #58 'ADX1-2'
  ; Item #59 'ADX1-3'
  ; Item #60 'ADX1-4'
  ; Item #61 'ADX2-1'
  ; Item #62 'ADX2-2'
  ; Item #63 'ADX2-3'
  ; Item #64 'ADX2-4'
  ; Item #65 'ADX3-1'
  ; Item #66 'ADX3-2'
  ; Item #67 'ADX3-3'
  ; Item #68 'ADX3-4'
  ; Item #69 'ADX4-1'
  ; Item #70 'ADX4-2'
  ; Item #71 'ADX4-3'
  ; Item #72 'ADX4-4'
  ; Item #73 'ADMAIF17'
  ; Item #74 'ADMAIF18'
  ; Item #75 'ADMAIF19'
  ; Item #76 'ADMAIF20'
  ; Item #77 'ASRC1-1'
  ; Item #78 'ASRC1-2'
  ; Item #79 'ASRC1-3'
  ; Item #80 'ASRC1-4'
  ; Item #81 'ASRC1-5'
  ; Item #82 'ASRC1-6'
  : values=1
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="Adder1 RX1" 1
numid=759,iface=MIXER,name='Adder1 RX1'
  ; type=BOOLEAN,access=rw------,values=1
  : values=on
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="Mixer Enable" 1
numid=373,iface=MIXER,name='Mixer Enable'
  ; type=BOOLEAN,access=rw------,values=1
  : values=on
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="ADMAIF1 Mux" 11
numid=678,iface=MIXER,name='ADMAIF1 Mux'
  ; type=ENUMERATED,access=rw------,values=1,items=83
  ; Item #0 'None'
  ; Item #1 'ADMAIF1'
  ; Item #2 'ADMAIF2'
  ; Item #3 'ADMAIF3'
  ; Item #4 'ADMAIF4'
  ; Item #5 'ADMAIF5'
  ; Item #6 'ADMAIF6'
  ; Item #7 'ADMAIF7'
  ; Item #8 'ADMAIF8'
  ; Item #9 'ADMAIF9'
  ; Item #10 'ADMAIF10'
  ; Item #11 'ADMAIF11'
  ; Item #12 'ADMAIF12'
  ; Item #13 'ADMAIF13'
  ; Item #14 'ADMAIF14'
  ; Item #15 'ADMAIF15'
  ; Item #16 'ADMAIF16'
  ; Item #17 'I2S1'
  ; Item #18 'I2S2'
  ; Item #19 'I2S3'
  ; Item #20 'I2S4'
  ; Item #21 'I2S5'
  ; Item #22 'I2S6'
  ; Item #23 'SFC1'
  ; Item #24 'SFC2'
  ; Item #25 'SFC3'
  ; Item #26 'SFC4'
  ; Item #27 'MIXER1-1'
  ; Item #28 'MIXER1-2'
  ; Item #29 'MIXER1-3'
  ; Item #30 'MIXER1-4'
  ; Item #31 'MIXER1-5'
  ; Item #32 'AMX1'
  ; Item #33 'AMX2'
  ; Item #34 'AMX3'
  ; Item #35 'AMX4'
  ; Item #36 'ARAD1'
  ; Item #37 'SPDIF1-1'
  ; Item #38 'SPDIF1-2'
  ; Item #39 'AFC1'
  ; Item #40 'AFC2'
  ; Item #41 'AFC3'
  ; Item #42 'AFC4'
  ; Item #43 'AFC5'
  ; Item #44 'AFC6'
  ; Item #45 'OPE1'
  ; Item #46 'SPKPROT1'
  ; Item #47 'MVC1'
  ; Item #48 'MVC2'
  ; Item #49 'IQC1-1'
  ; Item #50 'IQC1-2'
  ; Item #51 'IQC2-1'
  ; Item #52 'IQC2-2'
  ; Item #53 'DMIC1'
  ; Item #54 'DMIC2'
  ; Item #55 'DMIC3'
  ; Item #56 'DMIC4'
  ; Item #57 'ADX1-1'
  ; Item #58 'ADX1-2'
  ; Item #59 'ADX1-3'
  ; Item #60 'ADX1-4'
  ; Item #61 'ADX2-1'
  ; Item #62 'ADX2-2'
  ; Item #63 'ADX2-3'
  ; Item #64 'ADX2-4'
  ; Item #65 'ADX3-1'
  ; Item #66 'ADX3-2'
  ; Item #67 'ADX3-3'
  ; Item #68 'ADX3-4'
  ; Item #69 'ADX4-1'
  ; Item #70 'ADX4-2'
  ; Item #71 'ADX4-3'
  ; Item #72 'ADX4-4'
  ; Item #73 'ADMAIF17'
  ; Item #74 'ADMAIF18'
  ; Item #75 'ADMAIF19'
  ; Item #76 'ADMAIF20'
  ; Item #77 'ASRC1-1'
  ; Item #78 'ASRC1-2'
  ; Item #79 'ASRC1-3'
  ; Item #80 'ASRC1-4'
  ; Item #81 'ASRC1-5'
  ; Item #82 'ASRC1-6'
  : values=11
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="x Int Spk Switch" 1
numid=670,iface=MIXER,name='x Int Spk Switch'
  ; type=BOOLEAN,access=rw------,values=1
  : values=on
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="x Speaker Playback Volume" 100
numid=578,iface=MIXER,name='x Speaker Playback Volume'
  ; type=INTEGER,access=rw---R--,values=2,min=0,max=31,step=0
  : values=31,31
  | dBscale-min=-46.50dB,step=1.50dB,mute=0
root@tegra-ubuntu:/usr/local/bin# amixer cset -c tegrasndt186ref name="x Headphone Jack Switch" 0
numid=671,iface=MIXER,name='x Headphone Jack Switch'
  ; type=BOOLEAN,access=rw------,values=1
  : values=off
root@tegra-ubuntu:/usr/local/bin# amixer sset -c tegrasndt186ref 'MIXER1-1 Mux' 'ADMAIF1'
Simple mixer control 'MIXER1-1 Mux',0
  Capabilities: enum
  Items: 'None' 'ADMAIF1' 'ADMAIF2' 'ADMAIF3' 'ADMAIF4' 'ADMAIF5' 'ADMAIF6' 'ADMAIF7' 'ADMAIF8' 'ADMAIF9' 'ADMAIF10' 'ADMAIF11' 'ADMAIF12' 'ADMAIF13' 'ADMAIF14' 'ADMAIF15' 'ADMAIF16' 'I2S1' 'I2S2' 'I2S3' 'I2S4' 'I2S5' 'I2S6' 'SFC1' 'SFC2' 'SFC3' 'SFC4' 'MIXER1-1' 'MIXER1-2' 'MIXER1-3' 'MIXER1-4' 'MIXER1-5' 'AMX1' 'AMX2' 'AMX3' 'AMX4' 'ARAD1' 'SPDIF1-1' 'SPDIF1-2' 'AFC1' 'AFC2' 'AFC3' 'AFC4' 'AFC5' 'AFC6' 'OPE1' 'SPKPROT1' 'MVC1' 'MVC2' 'IQC1-1' 'IQC1-2' 'IQC2-1' 'IQC2-2' 'DMIC1' 'DMIC2' 'DMIC3' 'DMIC4' 'ADX1-1' 'ADX1-2' 'ADX1-3' 'ADX1-4' 'ADX2-1' 'ADX2-2' 'ADX2-3' 'ADX2-4' 'ADX3-1' 'ADX3-2' 'ADX3-3' 'ADX3-4' 'ADX4-1' 'ADX4-2' 'ADX4-3' 'ADX4-4' 'ADMAIF17' 'ADMAIF18' 'ADMAIF19' 'ADMAIF20' 'ASRC1-1' 'ASRC1-2' 'ASRC1-3' 'ASRC1-4' 'ASRC1-5' 'ASRC1-6'
  Item0: 'ADMAIF1'
root@tegra-ubuntu:/usr/local/bin# amixer sset -c tegrasndt186ref 'I2S1 Mux' 'MIXER1-1'
Simple mixer control 'I2S1 Mux',0
  Capabilities: enum
  Items: 'None' 'ADMAIF1' 'ADMAIF2' 'ADMAIF3' 'ADMAIF4' 'ADMAIF5' 'ADMAIF6' 'ADMAIF7' 'ADMAIF8' 'ADMAIF9' 'ADMAIF10' 'ADMAIF11' 'ADMAIF12' 'ADMAIF13' 'ADMAIF14' 'ADMAIF15' 'ADMAIF16' 'I2S1' 'I2S2' 'I2S3' 'I2S4' 'I2S5' 'I2S6' 'SFC1' 'SFC2' 'SFC3' 'SFC4' 'MIXER1-1' 'MIXER1-2' 'MIXER1-3' 'MIXER1-4' 'MIXER1-5' 'AMX1' 'AMX2' 'AMX3' 'AMX4' 'ARAD1' 'SPDIF1-1' 'SPDIF1-2' 'AFC1' 'AFC2' 'AFC3' 'AFC4' 'AFC5' 'AFC6' 'OPE1' 'SPKPROT1' 'MVC1' 'MVC2' 'IQC1-1' 'IQC1-2' 'IQC2-1' 'IQC2-2' 'DMIC1' 'DMIC2' 'DMIC3' 'DMIC4' 'ADX1-1' 'ADX1-2' 'ADX1-3' 'ADX1-4' 'ADX2-1' 'ADX2-2' 'ADX2-3' 'ADX2-4' 'ADX3-1' 'ADX3-2' 'ADX3-3' 'ADX3-4' 'ADX4-1' 'ADX4-2' 'ADX4-3' 'ADX4-4' 'ADMAIF17' 'ADMAIF18' 'ADMAIF19' 'ADMAIF20' 'ASRC1-1' 'ASRC1-2' 'ASRC1-3' 'ASRC1-4' 'ASRC1-5' 'ASRC1-6'
  Item0: 'MIXER1-1'
root@tegra-ubuntu:/usr/local/bin# amixer cset -c 1 name="x Speaker Playback Volume" 100
numid=578,iface=MIXER,name='x Speaker Playback Volume'
  ; type=INTEGER,access=rw---R--,values=2,min=0,max=31,step=0
  : values=31,31
  | dBscale-min=-46.50dB,step=1.50dB,mute=0



in1p_record_setup.sh

in1n_record_setup.sh


关于R28.2.1一个通道(IN1P, IN1N),有一个声道没有声音的问题分析：
基本确定是system.img的问题
1.是uImage的问题?
  System.img使用pro2,Image使用titan，一切正常

2.是rootfs的问题?
  Image使用titan, rootfs使用pro2


Q: 录音10s,自动退出?
A: 没有使用初始化脚本去初始化音频(如in1p_record_setup.sh, in1n_record_setup.sh)


Titan跑pro2镜像时的系统中进程:
F S UID        PID  PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD
4 S root         1     0  1  80   0 - 38707 SyS_ep 01:36 ?        00:00:05 /sbin/init tegra_keep_boot_clocks
1 S root         2     0  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [kthreadd]
1 S root         3     2  0  80   0 -     0 smpboo 01:36 ?        00:00:00 [ksoftirqd/0]
1 S root         5     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/0:0H]
5 S root         6     2  0  80   0 -     0 worker 01:36 ?        00:00:02 [kworker/u12:0]
1 S root         7     2  0  80   0 -     0 rcu_gp 01:36 ?        00:00:00 [rcu_preempt]
1 S root         8     2  0  80   0 -     0 rcu_gp 01:36 ?        00:00:00 [rcu_sched]
1 S root         9     2  0  80   0 -     0 rcu_gp 01:36 ?        00:00:00 [rcu_bh]
1 S root        10     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [migration/0]
5 S root        11     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [watchdog/0]
5 S root        12     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [watchdog/1]
1 S root        13     2  0 -40   - -     0 kthrea 01:36 ?        00:00:00 [migration/1]
1 S root        14     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [ksoftirqd/1]
1 S root        16     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/1:0H]
5 S root        17     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [watchdog/2]
1 S root        18     2  0 -40   - -     0 kthrea 01:36 ?        00:00:00 [migration/2]
1 S root        19     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [ksoftirqd/2]
1 S root        20     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/2:0]
1 S root        21     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/2:0H]
5 S root        22     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [watchdog/3]
1 S root        23     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [migration/3]
1 S root        24     2  0  80   0 -     0 smpboo 01:36 ?        00:00:00 [ksoftirqd/3]
1 S root        25     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/3:0]
5 S root        27     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [watchdog/4]
1 S root        28     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [migration/4]
1 S root        29     2  0  80   0 -     0 smpboo 01:36 ?        00:00:00 [ksoftirqd/4]
1 S root        30     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/4:0]
1 S root        31     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/4:0H]
5 S root        32     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [watchdog/5]
1 S root        33     2  0 -40   - -     0 smpboo 01:36 ?        00:00:00 [migration/5]
1 S root        34     2  0  80   0 -     0 smpboo 01:36 ?        00:00:00 [ksoftirqd/5]
1 S root        36     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/5:0H]
5 S root        37     2  0  80   0 -     0 devtmp 01:36 ?        00:00:00 [kdevtmpfs]
1 S root        38     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [netns]
1 S root        39     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [perf]
1 S root        40     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/55-mc_statu]
1 S root        41     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [writeback]
1 S root        42     2  0  85   5 -     0 ksm_sc 01:36 ?        00:00:00 [ksmd]
1 S root        43     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [crypto]
1 S root        44     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root        45     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [kblockd]
1 S root        46     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [ata_sff]
1 S root        48     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [devfreq_wq]
1 S root        49     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/424-30c0000]
1 S root        50     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/431-max7762]
1 S root        51     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/5:1]
1 S root        52     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [cfg80211]
1 S root        54     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [watchdogd]
1 S root        55     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/u12:1]
5 S root        56     2  0  80   - -     0 nvmap_ 01:36 ?        00:00:00 [nvmap-bz]
1 S root        58     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [rpciod]
1 S root        59     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [host_low_prio_w]
1 S root        60     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/62-host_syn]
1 S root        61     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/63-host_sta]
1 S root        84     2  0  80   0 -     0 kswapd 01:36 ?        00:00:00 [kswapd0]
1 S root        85     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [vmstat]
1 S root        86     2  0  80   0 -     0 fsnoti 01:36 ?        00:00:00 [fsnotify_mark]
1 S root        87     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [nfsiod]
1 S root       105     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [kthrotld]
1 S root       106     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/0:1]
1 S root       107     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/a]
1 S root       108     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/b]
1 S root       109     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/c]
1 S root       110     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/d]
1 S root       111     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/e]
1 S root       112     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/f]
1 S root       113     2  0  58   - -     0 kthrea 01:36 ?        00:00:00 [tegradc.0/sl]
1 S root       114     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/69-15210000]
1 S root       115     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/3:1]
1 S root       116     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/1:1]
1 S root       117     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/u12:2]
1 S root       118     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/73-gk20a_st]
1 S root       119     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       120     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       121     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       122     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       123     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       124     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       125     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       126     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       127     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       128     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       129     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       130     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       131     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       132     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       133     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       134     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       135     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       136     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       137     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       138     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       139     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       140     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       141     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       142     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
1 S root       143     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/252-1521000]
1 S root       144     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [tmp451]
1 S root       145     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/u13:0]
1 S root       146     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [nvme]
1 S root       147     2  0  80   0 -     0 scsi_e 01:36 ?        00:00:00 [scsi_eh_0]
1 S root       148     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [scsi_tmf_0]
1 S root       149     2  0  80   0 -     0 scsi_e 01:36 ?        00:00:00 [scsi_eh_1]
1 S root       150     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [scsi_tmf_1]
1 S root       151     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/u12:3]
1 S root       152     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/u12:4]
1 S root       155     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [uether]
1 S root       156     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/54-tegra_rt]
1 S root       157     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [dm_bufio_cache]
1 S root       158     2  0 -40   - -     0 cpufre 01:36 ?        00:00:00 [cfinteractive]
1 S root       164     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [binder]
1 S root       165     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/77-b150000.]
1 S root       167     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/78-b150000.]
1 S root       169     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/78-b150000.]
1 S root       170     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/52-b000000.]
1 S root       171     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/81-c150000.]
1 S root       172     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/53-d230000.]
1 S root       185     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/92-gpcdma.0]
1 S root       186     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/93-gpcdma.1]
1 S root       187     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/94-gpcdma.2]
1 S root       188     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/95-gpcdma.3]
1 S root       189     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/96-gpcdma.4]
1 S root       190     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/97-gpcdma.5]
1 S root       191     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/98-gpcdma.6]
1 S root       192     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/99-gpcdma.7]
1 S root       193     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/100-gpcdma.]
1 S root       194     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/101-gpcdma.]
1 S root       195     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/102-gpcdma.]
1 S root       196     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/103-gpcdma.]
1 S root       197     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/104-gpcdma.]
1 S root       198     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/105-gpcdma.]
1 S root       199     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/106-gpcdma.]
1 S root       200     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/107-gpcdma.]
1 S root       201     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/108-gpcdma.]
1 S root       202     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/109-gpcdma.]
1 S root       203     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/110-gpcdma.]
1 S root       204     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/111-gpcdma.]
1 S root       205     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/112-gpcdma.]
1 S root       206     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/113-gpcdma.]
1 S root       207     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/114-gpcdma.]
1 S root       208     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/115-gpcdma.]
1 S root       209     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/116-gpcdma.]
1 S root       210     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/117-gpcdma.]
1 S root       211     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/118-gpcdma.]
1 S root       212     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/119-gpcdma.]
1 S root       213     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/120-gpcdma.]
1 S root       214     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/121-gpcdma.]
1 S root       215     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/122-gpcdma.]
1 S root       216     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/123-gpcdma.]
1 S root       217     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/1:2]
1 S root       219     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/u13:1]
1 S root       220     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [ipv6_addrconf]
1 S root       221     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/64-150c0000]
1 S root       222     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [deferwq]
1 S root       223     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/60-3530000.]
1 S root       224     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/34-3210000.]
1 S root       225     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [spi0]
1 S root       226     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/35-c260000.]
1 S root       227     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [spi1]
1 S root       228     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/36-3240000.]
1 S root       229     2  0  80   0 -     0 kthrea 01:36 ?        00:00:00 [spi3]
1 S root       230     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/60-xotg]
1 S root       231     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/3:1H]
1 S root       233     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/65-15700000]
1 S root       234     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/2:1H]
1 S root       235     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/22-3460000.]
1 S root       236     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/23-3440000.]
1 S root       237     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
5 S root       238     2  0  58   - -     0 mmc_qu 01:36 ?        00:00:03 [mmcqd/0]
1 S root       239     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
5 S root       240     2  0  58   - -     0 mmc_qu 01:36 ?        00:00:00 [mmcqd/0boot0]
1 S root       241     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
5 S root       242     2  0  58   - -     0 mmc_qu 01:36 ?        00:00:00 [mmcqd/0boot1]
1 S root       243     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [bioset]
5 S root       244     2  0  58   - -     0 mmc_qu 01:36 ?        00:00:00 [mmcqd/0rpmb]
1 S root       245     2  0   9   - -     0 irq_th 01:36 ?        00:00:00 [irq/24-3400000.]
1 S root       246     2  0  80   0 -     0 kjourn 01:36 ?        00:00:00 [jbd2/mmcblk0p1-]
1 S root       247     2  0  60 -20 -     0 rescue 01:36 ?        00:00:00 [ext4-rsv-conver]
1 S root       270     2  0  80   0 -     0 kaudit 01:36 ?        00:00:00 [kauditd]
1 S root       278     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/4:2]
4 S root       279     1  0  80   0 -  5203 SyS_ep 01:36 ?        00:00:00 /lib/systemd/systemd-journald
1 S root       283     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/3:2]
4 S root       307     1  0  80   0 -  3134 SyS_ep 01:36 ?        00:00:00 /lib/systemd/systemd-udevd
1 S root       317     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/2:2]
1 S root       392     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/0:1H]
1 S root       396     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/4:1H]
4 S root       399     1  0  80   0 -  1602 hrtime 01:36 ?        00:00:00 /usr/sbin/cron -f
4 S root       406     1  0  80   0 -   984 SyS_ep 01:36 ?        00:00:00 /lib/systemd/systemd-logind
4 S root       411     1  0  80   0 - 59030 poll_s 01:36 ?        00:00:00 /usr/sbin/ModemManager
4 S root       437     1  0  80   0 - 58931 poll_s 01:36 ?        00:00:00 /usr/lib/accountsservice/accounts-daemon
4 S syslog     439     1  0  80   0 - 56463 poll_s 01:36 ?        00:00:00 /usr/sbin/rsyslogd -n
4 S root       482     1  0  80   0 -  3943 SyS_ep 01:36 ?        00:00:00 /usr/sbin/cupsd -l
4 S root       485     1  0  80   0 -  1166 sigsus 01:36 ?        00:00:00 /usr/sbin/anacron -dsq
1 S root       514     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/5:3]
1 S root       531     2  0  80   0 -     0 sleep_ 01:36 ?        00:00:00 [file-storage]
4 S gpsd       566     1  0  70 -10 -  1701 poll_s 01:36 ?        00:00:00 /usr/sbin/gpsd -N
4 S whoopsie   578     1  0  80   0 - 61362 poll_s 01:36 ?        00:00:00 /usr/bin/whoopsie -f
4 S message+   583     1  0  80   0 -  1812 SyS_ep 01:36 ?        00:00:00 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation
4 S root       587     1  0  80   0 -  1963 poll_s 01:36 ?        00:00:00 /usr/sbin/ofonod -P ril,hfp_bluez5,hfp_bluez4,bluez5,bluez4,hfp_ag_bluez4,hfp_ag_bluez5 -d --nodetach
4 S lp         589   482  0  80   0 -  2905 pipe_w 01:36 ?        00:00:00 /usr/lib/cups/notifier/dbus dbus://
4 S avahi      590     1  0  80   0 -  1518 poll_s 01:36 ?        00:00:00 avahi-daemon: running [tegra-ubuntu-2.local]
4 S lp         591   482  0  80   0 -  2905 pipe_w 01:36 ?        00:00:00 /usr/lib/cups/notifier/dbus dbus://
4 S root       595     1  0  80   0 - 69240 poll_s 01:36 ?        00:00:00 /usr/sbin/NetworkManager --no-daemon
1 S avahi      607   590  0  80   0 -  1453 unix_s 01:36 ?        00:00:00 avahi-daemon: chroot helper
4 S root       632     1  0  80   0 -  2442 poll_s 01:36 ?        00:00:00 /usr/sbin/sshd -D
4 S root       639     1  0  80   0 - 41656 poll_s 01:36 ?        00:00:00 /usr/sbin/cups-browsed
4 S root       643     1  0  80   0 - 59434 poll_s 01:36 ?        00:00:00 /usr/lib/policykit-1/polkitd --no-debug
1 S root       644     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/1:1H]
4 S root       693     1  0  80   0 - 58129 poll_s 01:36 ?        00:00:00 /usr/sbin/lightdm
4 S root       702   693  0  80   0 - 12606021 poll_s 01:36 tty7  00:00:01 /usr/lib/xorg/Xorg -core :0 -seat seat0 -auth /var/run/lightdm/root/:0 -nolisten tcp vt7 -novtswitch
1 D root       725     2  0  80   0 -     0 gk20a_ 01:36 ?        00:00:00 [nvgpu_channel_p]
1 S root       753     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/5:1H]
0 S root       851     1  0  80   0 -  8832 skb_re 01:36 ?        00:00:00 /usr/sbin/nvcamera-daemon
4 S root       855     1  0  80   0 -  3072 skb_re 01:36 ?        00:00:00 /usr/sbin/argus_daemon
1 S root       859     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/0:4]
4 S root       883   693  0  80   0 - 39821 wait   01:36 ?        00:00:00 lightdm --session-child 12 15
4 S nvidia     897     1  0  80   0 -  1659 SyS_ep 01:36 ?        00:00:00 /lib/systemd/systemd --user
5 S nvidia     901   897  0  80   0 -  2810 sigtim 01:36 ?        00:00:00 (sd-pam)
4 S nvidia     907   883  0  80   0 -  2375 poll_s 01:36 ?        00:00:00 /sbin/upstart --user
1 S nvidia    1005   907  0  80   0 -  1984 poll_s 01:36 ?        00:00:00 upstart-udev-bridge --daemon --user
1 S nvidia    1014   907  0  80   0 -  1653 SyS_ep 01:36 ?        00:00:00 dbus-daemon --fork --session --address=unix:abstract=/tmp/dbus-fHff29HByH
1 S nvidia    1046   907  0  80   0 - 41944 poll_s 01:36 ?        00:00:00 gnome-keyring-daemon --start --components pkcs11,secrets
4 S root      1054   595  0  80   0 -  1296 poll_s 01:36 ?        00:00:00 /sbin/dhclient -d -q -sf /usr/lib/NetworkManager/nm-dhcp-helper -pf /var/run/dhclient-eth0.pid -lf /var/lib/NetworkManager/dhclie
1 S nvidia    1073   907  0  80   0 -  1949 poll_s 01:36 ?        00:00:00 upstart-dbus-bridge --daemon --session --user --bus-name session
1 S nvidia    1077   907  0  80   0 -  1949 poll_s 01:36 ?        00:00:00 upstart-dbus-bridge --daemon --system --user --bus-name system
1 S nvidia    1078   907  0  80   0 -  2079 poll_s 01:36 ?        00:00:00 upstart-file-bridge --daemon --user
1 S nvidia    1081   907  0  80   0 - 95615 poll_s 01:36 ?        00:00:00 /usr/bin/ibus-daemon --daemonize --xim
0 S nvidia    1098   907  0  80   0 - 58264 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfsd
0 S nvidia    1107  1081  0  80   0 - 58544 poll_s 01:36 ?        00:00:00 /usr/lib/ibus/ibus-dconf
0 S nvidia    1108  1081  0  80   0 - 80988 poll_s 01:36 ?        00:00:00 /usr/lib/ibus/ibus-ui-gtk3
0 S nvidia    1110   907  0  80   0 - 72673 poll_s 01:36 ?        00:00:00 /usr/lib/ibus/ibus-x11 --kill-daemon
0 S nvidia    1124   907  0  80   0 - 76546 poll_s 01:36 ?        00:00:00 /usr/lib/at-spi2-core/at-spi-bus-launcher
0 S nvidia    1130  1124  0  80   0 -  1480 SyS_ep 01:36 ?        00:00:00 /usr/bin/dbus-daemon --config-file=/etc/at-spi2/accessibility.conf --nofork --print-address 3
0 S nvidia    1132   907  0  80   0 - 39374 poll_s 01:36 ?        00:00:00 /usr/lib/at-spi2-core/at-spi2-registryd --use-gnome-session
4 S root      1142     1  0  80   0 -  1335 poll_s 01:36 tty1     00:00:00 /sbin/agetty --noclear tty1 linux
4 S root      1143     1  0  80   0 -  2696 wait   01:36 ttyS0    00:00:00 /bin/login -f
0 S nvidia    1146  1081  0  80   0 - 40076 poll_s 01:36 ?        00:00:00 /usr/lib/ibus/ibus-engine-simple
1 S nvidia    1177   907  0  80   0 - 38390 poll_s 01:36 ?        00:00:00 gpg-agent --homedir /home/nvidia/.gnupg --use-standard-socket --daemon
0 S nvidia    1198   907  0  80   0 - 163046 poll_s 01:36 ?       00:00:00 /usr/lib/unity-settings-daemon/unity-settings-daemon
0 S nvidia    1199   907  0  80   0 - 83732 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/bamf/bamfdaemon
0 S nvidia    1202   907  0  80   0 - 113066 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/hud/hud-service
0 S nvidia    1209   907  0  80   0 - 100359 poll_s 01:36 ?       00:00:00 /usr/lib/gnome-session/gnome-session-binary --session=ubuntu
0 S nvidia    1215   907  0  80   0 - 109916 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/unity/unity-panel-service
4 S root      1232     1  0  80   0 - 68768 poll_s 01:36 ?        00:00:00 /usr/lib/upower/upowerd
0 S nvidia    1246   907  0  80   0 - 38435 poll_s 01:36 ?        00:00:00 /usr/lib/dconf/dconf-service
0 S nvidia    1266   907  0  80   0 - 206028 poll_s 01:36 ?       00:00:03 compiz
0 S nvidia    1273   907  0  80   0 - 77204 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/indicator-messages/indicator-messages-service
0 S nvidia    1274   907  0  80   0 - 76921 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/indicator-bluetooth/indicator-bluetooth-service
0 S nvidia    1275   907  0  80   0 - 77511 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/indicator-power/indicator-power-service
0 S nvidia    1276   907  0  80   0 - 231615 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/indicator-datetime/indicator-datetime-service
0 S nvidia    1279   907  0  80   0 - 113979 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/indicator-keyboard/indicator-keyboard-service --use-gtk
0 S nvidia    1282   907  0  80   0 - 144420 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/indicator-sound/indicator-sound-service
0 S nvidia    1283   907  0  80   0 - 103037 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/indicator-printers/indicator-printers-service
0 S nvidia    1287   907  0  80   0 - 118003 poll_s 01:36 ?       00:00:00 /usr/lib/aarch64-linux-gnu/indicator-session/indicator-session-service
0 S nvidia    1291   907  0  80   0 - 63020 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/indicator-application/indicator-application-service
0 S nvidia    1317   907  0  80   0 - 94124 poll_s 01:36 ?        00:00:00 /usr/lib/evolution/evolution-source-registry
1 S nvidia    1332   907  0  69 -11 - 93636 poll_s 01:36 ?        00:00:00 /usr/bin/pulseaudio --start --log-target=syslog
4 S colord    1333     1  0  80   0 - 59976 poll_s 01:36 ?        00:00:00 /usr/lib/colord/colord
4 S rtkit     1338     1  0  81   1 - 38140 poll_s 01:36 ?        00:00:00 /usr/lib/rtkit/rtkit-daemon
0 S nvidia    1376   907  0  80   0 - 141711 poll_s 01:36 ?       00:00:00 /usr/lib/evolution/evolution-calendar-factory
1 S root      1384     2  0  80   0 -     0 worker 01:36 ?        00:00:00 [kworker/u12:5]
4 S lp        1388   482  0  80   0 -  2905 pipe_w 01:36 ?        00:00:00 /usr/lib/cups/notifier/dbus dbus://
4 S lp        1389   482  0  80   0 -  2905 pipe_w 01:36 ?        00:00:00 /usr/lib/cups/notifier/dbus dbus://
0 S nvidia    1396  1376  0  80   0 - 170825 poll_s 01:36 ?       00:00:00 /usr/lib/evolution/evolution-calendar-factory-subprocess --factory contacts --bus-name org.gnome.evolution.dataserver.Subprocess.
0 S nvidia    1414  1209  0  80   0 - 64601 poll_s 01:36 ?        00:00:00 /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1
0 S nvidia    1418  1209  0  80   0 - 101416 poll_s 01:36 ?       00:00:00 /usr/lib/unity-settings-daemon/unity-fallback-mount-helper
0 S nvidia    1419  1209  3  80   0 - 251471 poll_s 01:36 ?       00:00:11 /usr/bin/gnome-software --gapplication-service
0 S nvidia    1422  1209  0  80   0 - 137108 poll_s 01:36 ?       00:00:01 nautilus -n
0 S nvidia    1424   907  0  80   0 - 127451 poll_s 01:36 ?       00:00:00 /usr/lib/evolution/evolution-addressbook-factory
0 S nvidia    1426  1209  0  80   0 - 111328 poll_s 01:36 ?       00:00:00 nm-applet
0 S nvidia    1427  1376  0  80   0 - 172544 poll_s 01:36 ?       00:00:00 /usr/lib/evolution/evolution-calendar-factory-subprocess --factory local --bus-name org.gnome.evolution.dataserver.Subprocess.Bac
0 S nvidia    1454   907  0  80   0 - 58232 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfs-udisks2-volume-monitor
0 S nvidia    1466  1424  0  80   0 - 182421 poll_s 01:36 ?       00:00:00 /usr/lib/evolution/evolution-addressbook-factory-subprocess --factory local --bus-name org.gnome.evolution.dataserver.Subprocess.
0 S nvidia    1470   907  0  80   0 - 57640 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfs-goa-volume-monitor
0 S nvidia    1488   907  0  80   0 - 58100 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfs-gphoto2-volume-monitor
0 S nvidia    1507   907  0  80   0 - 57647 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfs-mtp-volume-monitor
0 S nvidia    1520   907  0  80   0 - 84897 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfs-afc-volume-monitor
4 S nvidia    1572  1143  0  80   0 -  1944 wait   01:36 ttyS0    00:00:00 -bash
0 S nvidia    1586   907  0  80   0 - 77463 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfsd-trash --spawner :1.5 /org/gtk/gvfs/exec_spaw/0
0 S nvidia    1606   907  0  80   0 - 39254 poll_s 01:36 ?        00:00:00 /usr/lib/gvfs/gvfsd-metadata
4 S root      1610  1572  0  80   0 -  2542 wait   01:36 ttyS0    00:00:00 su
4 S root      1611  1610  0  80   0 -  1660 wait_w 01:36 ttyS0    00:00:00 bash
0 S nvidia    1697  1209  0  80   0 - 90747 poll_s 01:36 ?        00:00:00 zeitgeist-datahub
0 S nvidia    1704   907  0  80   0 -   468 wait   01:36 ?        00:00:00 /bin/sh -c /usr/lib/aarch64-linux-gnu/zeitgeist/zeitgeist-maybe-vacuum; /usr/bin/zeitgeist-daemon
0 S nvidia    1708  1704  0  80   0 - 94107 poll_s 01:36 ?        00:00:00 /usr/bin/zeitgeist-daemon
0 S nvidia    1715   907  0  80   0 - 65834 poll_s 01:36 ?        00:00:00 /usr/lib/aarch64-linux-gnu/zeitgeist-fts
1 S root      1756     2  0  60 -20 -     0 worker 01:36 ?        00:00:00 [kworker/3:2H]
4 S root      1765   632  0  80   0 -  3402 poll_s 01:37 ?        00:00:00 sshd: nvidia [priv]
5 R nvidia    1794  1765  0  80   0 -  3402 -      01:37 ?        00:00:00 sshd: nvidia@pts/16
0 S nvidia    1795  1794  0  80   0 -  1944 wait   01:37 pts/16   00:00:00 -bash
4 S root      1809  1795  0  80   0 -  2542 wait   01:37 pts/16   00:00:00 su
4 S root      1810  1809  0  80   0 -  1664 wait   01:37 pts/16   00:00:00 bash
0 S nvidia    1829  1209  0  80   0 - 83838 poll_s 01:37 ?        00:00:00 update-notifier
1 S root      1853     2  0  80   0 -     0 worker 01:37 ?        00:00:00 [kworker/u12:6]
0 S nvidia    1862  1209  0  80   0 - 95888 poll_s 01:38 ?        00:00:00 /usr/lib/aarch64-linux-gnu/deja-dup/deja-dup-monitor
1 S root      1902     2  0  80   0 -     0 worker 01:38 ?        00:00:00 [kworker/3:3]
4 R root      1912  1810  0  80   0 -  2102 -      01:42 pts/16   00:00:00 ps -lef


setprop sys.stab_on false


在Pro1上插入LineIn和未插入LineIn的寄存器对比分析:
MX-FAh General Control 1
0b01 -> 3b01

MX-BEh IRQ Control 2
8000 -> 8008

MX-BFh GPIO and Internal Status
0190 -> 000

MX-93h MICBIAS Control
3000 -> 3810


MX-63h Power Management Control 3
e8d8 -> a814

MX-64h Power Management Control 4
8000 ->8800


adb connect 192.168.1.188
adb shell setprop ctl.stop camerad


--------------------------------------------------------------------------------------
阿里云账号: luopinjing@163.com Code: Lpj461976553
拼接库:
git@code.aliyun.com:insta360_research/AutoStitcherLib2.git

HDR:
git@code.aliyun.com:insta360_research/InsImgProcLib.git




1.跟新usb测试脚本(不管插入的是2.0还是3.0设备)


2.HDMI测试:
2.1 打开HDMI显示
factory_test hdmi_on

2.2 关闭HDMI显示
factory_test hdmi_off

3.音频录音第一次爆音:
命令中去掉：in1p_record_setup.sh / in1n_record_setup.sh的调用



内置切外置Line  In 

寄存器                      内置                    Line In                     MIC In
000e                        0100                    0040
000f                        0808                    1f1f
0027                        1400                    3420
0028                        1010                    3030
0061                        8000                    8006
0063                        e818                    e81c 
0064                        0c00                    1c00 
0065                        0000                    0c00 
0066                        0000                    0300
006a                        001b                    003d
006c                        0200                    3600


系统开机后会有线程检测当前是使用内置还是外置的音频设备
Switch Inner Audio device:
echo 000e 0100 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 000f 0808 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0027 1400 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0028 1010 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0061 8000 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0063 e818 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0064 0c00 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0065 0000 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0066 0000 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 006a 001b > /sys/bus/i2c/devices/1-001c/codec_reg
echo 006c 0200 > /sys/bus/i2c/devices/1-001c/codec_reg


Switch Outerr Line In: 
echo 000e 0040 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 000f 1f1f > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0027 3420 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0028 3030 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0061 8006 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0063 e81c > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0064 1c00 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0065 0c00 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 0066 0300 > /sys/bus/i2c/devices/1-001c/codec_reg
echo 006a 003d > /sys/bus/i2c/devices/1-001c/codec_reg
echo 006c 3600 > /sys/bus/i2c/devices/1-001c/codec_reg
